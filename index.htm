<html class="ocks-org do-not-copy">
<head>
	<meta charset="utf-8" />
	<title>Bitcoin Transactions</title>

	<style>

		#chart {
		  height: 100%;
		}

		.node rect {
		  cursor: move;
		  fill-opacity: .9;
		  shape-rendering: crispEdges;
		}

		.node text {
		  pointer-events: none;
		  text-shadow: 0 1px 0 #fff;
		}

		.link {
		  fill: none;
		  stroke: #000;
		  stroke-opacity: .2;
		}

		.link:hover {
		  stroke-opacity: .5;
		}
	</style>
</head>
<body>

<h1>Bitcoin Transactions</h1>

<p>Each node represents an address. They are labeled with the last six digits of the address. The lines represent transactions between nodes. Nodes on the left are sending bitcoins to nodes on the right.</p>

<p id="chart"></p>

<input type="button" value="get data" id="btn" />
<input type="text" value="1AJbsFZ64EpEfS5UAjAfcUG8pH8Jn3rn1F" id="txt" />
<div id="result">TEXT</div>

<script src="http://d3js.org/d3.v2.min.js?2.9.1"></script>
<script src="sankey.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>

<script src="vis.js"></script>

<script type="application/javascript">

$("#btn").click(function() {

	var currentAddress = document.getElementById('txt').value;
	
	// Make the actual CORS request.
	function makeCorsRequest() {
	  // All HTML5 Rocks properties support CORS.
	  var url = 'http://blockchain.info/address/' + currentAddress + '&cors=true';

	  var xhr = createCORSRequest('GET', url);
	  if (!xhr) {
		alert('CORS not supported');
		return;
	  }

	  // Response handlers.
	  xhr.onload = function() {
		var text = xhr.responseText;
		var title = getTitle(text);
		alert('Response from CORS request to ' + url + ': ' + title);
	  };

	  xhr.onerror = function() {
		alert('Woops, there was an error making the request.');
	  };

	  xhr.send();
	}
	
});

<!-- http://www.html5rocks.com/en/tutorials/cors/ -->

// Create the XHR object.
function createCORSRequest(method, url) {
  var xhr = new XMLHttpRequest();
  if ("withCredentials" in xhr) {
    // XHR for Chrome/Firefox/Opera/Safari.
    xhr.open(method, url, true);
  } else if (typeof XDomainRequest != "undefined") {
    // XDomainRequest for IE.
    xhr = new XDomainRequest();
    xhr.open(method, url);
  } else {
    // CORS not supported.
    xhr = null;
  }
  return xhr;
}

// Helper method to parse the title tag from the response.
function getTitle(text) {
  return text.match('<title>(.*)?</title>')[1];
}

</script>
	
<!--CASEY DO-->

<script type="text/javascript">

	var d3Globals = function() {
		var width = 1380,
		height = 740,
		cellColorA = '#EAEAEA',
		cellColorB = '#FFFFFF';
	}

	function drawGraphs(){
		var outerRadius = 200;
		var innerRadius = 0;
		var pie = d3.layout.pie();
		var color = d3.scale.category10();
		var arc = d3.svg.arc().innerRadius(innerRadius).outerRadius(outerRadius);
		
		
	}


</script>
</body>
</html>